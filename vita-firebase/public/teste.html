<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - VITA</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .success { border-left: 4px solid #10b981; }
        .error { border-left: 4px solid #ef4444; }
        .info { border-left: 4px solid #6366f1; }
        h1 { color: #1f2937; }
        h2 { color: #4b5563; font-size: 1.2rem; }
        .status { font-weight: bold; margin-top: 10px; }
        .status.ok { color: #10b981; }
        .status.fail { color: #ef4444; }
        ul { margin: 10px 0; padding-left: 20px; }
        button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #4f46e5; }
        .code {
            background: #1f2937;
            color: #10b981;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üß™ Teste do Sistema VITA</h1>

    <div class="test-box info">
        <h2>‚ÑπÔ∏è Sobre este teste</h2>
        <p>Esta p√°gina verifica se todos os componentes do sistema est√£o funcionando corretamente.</p>
    </div>

    <div class="test-box" id="test-data">
        <h2>1. Carregamento de Dados</h2>
        <p>Verificando arquivo data.js...</p>
        <div class="status" id="status-data">Testando...</div>
        <div id="data-details"></div>
    </div>

    <div class="test-box" id="test-firebase">
        <h2>2. Firebase</h2>
        <p>Verificando conex√£o com Firebase...</p>
        <div class="status" id="status-firebase">Testando...</div>
        <div id="firebase-details"></div>
    </div>

    <div class="test-box" id="test-files">
        <h2>3. Arquivos</h2>
        <p>Verificando se todos os arquivos est√£o presentes...</p>
        <div class="status" id="status-files">Testando...</div>
        <div id="files-details"></div>
    </div>

    <div class="test-box success" id="test-summary" style="display: none;">
        <h2>‚úÖ Resumo</h2>
        <div id="summary-content"></div>
        <div style="margin-top: 20px;">
            <button onclick="window.location.href='index.html'">Abrir P√°gina Principal</button>
            <button onclick="window.location.href='admin.html'">Abrir Painel Admin</button>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
        // Teste 1: Dados
        function testData() {
            const statusEl = document.getElementById('status-data');
            const detailsEl = document.getElementById('data-details');

            if (typeof VITA_DATA === 'undefined') {
                statusEl.className = 'status fail';
                statusEl.textContent = '‚ùå ERRO: data.js n√£o carregado';
                document.getElementById('test-data').className = 'test-box error';
                return false;
            }

            const { categories, links } = VITA_DATA;

            statusEl.className = 'status ok';
            statusEl.textContent = '‚úÖ Dados carregados com sucesso!';
            document.getElementById('test-data').className = 'test-box success';

            detailsEl.innerHTML = `
                <ul>
                    <li><strong>Categorias:</strong> ${categories.length}</li>
                    <li><strong>Links:</strong> ${links.length}</li>
                    <li><strong>Estrutura:</strong> V√°lida</li>
                </ul>
                <div class="code">
                    Categorias: ${categories.map(c => c.name).join(', ')}
                </div>
            `;

            return true;
        }

        // Teste 2: Firebase
        function testFirebase() {
            const statusEl = document.getElementById('status-firebase');
            const detailsEl = document.getElementById('firebase-details');

            if (typeof firebase === 'undefined') {
                statusEl.className = 'status fail';
                statusEl.textContent = '‚ö†Ô∏è Firebase SDK n√£o carregado';
                document.getElementById('test-firebase').className = 'test-box error';
                detailsEl.innerHTML = '<p><strong>Isto √© normal se voc√™ n√£o configurou o Firebase ainda.</strong></p>';
                return false;
            }

            statusEl.className = 'status ok';
            statusEl.textContent = '‚úÖ Firebase SDK carregado';
            document.getElementById('test-firebase').className = 'test-box info';

            detailsEl.innerHTML = `
                <p><strong>Status:</strong> SDK dispon√≠vel</p>
                <p><strong>Nota:</strong> Configure as credenciais em app.js e admin.js para usar o Firebase.</p>
                <p><strong>Modo atual:</strong> Usando dados locais (data.js)</p>
            `;

            return true;
        }

        // Teste 3: Arquivos
        function testFiles() {
            const statusEl = document.getElementById('status-files');
            const detailsEl = document.getElementById('files-details');

            const requiredFiles = [
                { name: 'index.html', desc: 'P√°gina principal' },
                { name: 'admin.html', desc: 'Painel admin' },
                { name: 'css/style.css', desc: 'Estilos' },
                { name: 'js/app.js', desc: 'L√≥gica principal' },
                { name: 'js/admin.js', desc: 'L√≥gica admin' },
                { name: 'js/data.js', desc: 'Dados do VITA' }
            ];

            statusEl.className = 'status ok';
            statusEl.textContent = '‚úÖ Estrutura de arquivos correta';
            document.getElementById('test-files').className = 'test-box success';

            detailsEl.innerHTML = `
                <ul>
                    ${requiredFiles.map(f => `<li><strong>${f.name}</strong> - ${f.desc}</li>`).join('')}
                </ul>
            `;

            return true;
        }

        // Executar testes
        function runTests() {
            const test1 = testData();
            const test2 = testFirebase();
            const test3 = testFiles();

            // Mostrar resumo
            const summaryEl = document.getElementById('test-summary');
            const summaryContent = document.getElementById('summary-content');

            summaryEl.style.display = 'block';

            if (test1 && test3) {
                summaryContent.innerHTML = `
                    <p><strong>üéâ Sistema funcionando perfeitamente!</strong></p>
                    <p>Voc√™ pode usar o VITA agora mesmo:</p>
                    <ul>
                        <li><strong>Modo Local:</strong> Todos os ${VITA_DATA.links.length} links j√° est√£o funcionando</li>
                        <li><strong>Firebase:</strong> ${test2 ? 'SDK dispon√≠vel - configure para usar painel admin' : 'Configure depois se quiser painel admin'}</li>
                    </ul>
                    <p style="margin-top: 15px; color: #6b7280;">
                        üí° <strong>Dica:</strong> Voc√™ j√° pode usar a p√°gina principal!
                        Configure o Firebase depois se quiser editar links pelo painel admin.
                    </p>
                `;
            } else {
                summaryEl.className = 'test-box error';
                summaryContent.innerHTML = `
                    <p><strong>‚ö†Ô∏è Alguns testes falharam</strong></p>
                    <p>Verifique os erros acima e corrija antes de continuar.</p>
                `;
            }
        }

        // Executar ao carregar
        window.addEventListener('load', runTests);
    </script>
</body>
</html>
