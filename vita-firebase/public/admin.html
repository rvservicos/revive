<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VITA - Painel Administrativo</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .admin-container { max-width: 1600px; margin: 0 auto; padding: 2rem; }
        .admin-header { background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); border-radius: 24px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15); text-align: center; }
        .admin-title { font-size: 2.5rem; font-weight: 800; background: linear-gradient(135deg, #6366f1, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 0.5rem; }
        .admin-subtitle { color: #6b7280; font-size: 1.125rem; }
        .admin-tabs { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .tab-btn { padding: 1rem 2rem; background: white; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; color: #374151; }
        .tab-btn:hover { border-color: #6366f1; background: rgba(99, 102, 241, 0.05); }
        .tab-btn.active { background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border-color: transparent; }
        .admin-panel { background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); border-radius: 24px; padding: 2rem; box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15); }
        .panel-section { margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 2px solid #f3f4f6; }
        .panel-section:last-child { border-bottom: none; }
        .section-title { font-size: 1.5rem; font-weight: 700; color: #1f2937; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 0.9375rem; }
        .btn-primary { background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 15px rgba(99, 102, 241, 0.3); }
        .btn-success { background: linear-gradient(135deg, #10b981, #059669); color: white; }
        .btn-danger { background: linear-gradient(135deg, #ef4444, #dc2626); color: white; }
        .btn-secondary { background: #f3f4f6; color: #374151; }
        .btn-sm { padding: 0.5rem 1rem; font-size: 0.875rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-label { display: block; font-weight: 600; color: #374151; margin-bottom: 0.5rem; font-size: 0.9375rem; }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 0.875rem; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 1rem; transition: border-color 0.3s; font-family: inherit; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #6366f1; }
        .form-textarea { min-height: 100px; resize: vertical; }
        .items-grid { display: grid; gap: 1rem; }
        .item-card { background: white; border: 2px solid #e5e7eb; border-radius: 12px; padding: 1.5rem; transition: all 0.3s; }
        .item-card:hover { border-color: #6366f1; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.1); }
        .item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .item-title { font-weight: 600; color: #1f2937; font-size: 1.125rem; }
        .item-actions { display: flex; gap: 0.5rem; }
        .version-badge { display: inline-block; padding: 0.5rem 1rem; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border-radius: 20px; font-size: 0.875rem; font-weight: 600; margin-left: 1rem; }
        .alert { padding: 1rem; border-radius: 10px; margin-bottom: 1rem; font-weight: 500; }
        .alert-success { background: #d1fae5; color: #065f46; border: 2px solid #10b981; }
        .alert-info { background: #dbeafe; color: #1e40af; border: 2px solid #3b82f6; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 9999; align-items: center; justify-content: center; padding: 2rem; }
        .modal.active { display: flex; }
        .modal-content { background: white; border-radius: 20px; padding: 2rem; max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
        .modal-title { font-size: 1.5rem; font-weight: 700; color: #1f2937; }
        .btn-close { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6b7280; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s; }
        .btn-close:hover { background: #f3f4f6; }
        .info-box { background: #f0f9ff; border: 2px solid #3b82f6; border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem; }
        .info-box p { margin: 0; color: #1e40af; font-size: 0.9375rem; }
    </style>
</head>
<body>
    <div class="bg-decoration">
        <div class="bg-gradient-1"></div>
        <div class="bg-gradient-2"></div>
        <div class="bg-gradient-3"></div>
    </div>

    <div class="admin-container">
        <div class="admin-header">
            <h1 class="admin-title">‚öôÔ∏è Painel Administrativo VITA</h1>
            <p class="admin-subtitle">Gerencie todas as vers√µes, categorias e links</p>
        </div>

        <div class="alert alert-info">
            <strong>üí° Dica:</strong> As altera√ß√µes s√£o salvas automaticamente no navegador (localStorage). Para usar com Firebase, configure as credenciais no arquivo js/app.js
        </div>

        <div class="admin-tabs" id="versionTabs"></div>

        <div class="admin-panel">
            <div class="panel-section">
                <h2 class="section-title">üìã Informa√ß√µes da Vers√£o <span class="version-badge" id="currentVersionBadge">Normal</span></h2>
                <div class="form-group">
                    <label class="form-label">Nome da Vers√£o</label>
                    <input type="text" class="form-input" id="versionName" placeholder="Ex: VITA Normal">
                </div>
                <div class="form-group">
                    <label class="form-label">Descri√ß√£o</label>
                    <textarea class="form-textarea" id="versionDescription" placeholder="Descri√ß√£o da vers√£o..."></textarea>
                </div>
                <button class="btn btn-success" onclick="saveVersionInfo()">üíæ Salvar Informa√ß√µes</button>
            </div>

            <div class="panel-section">
                <h2 class="section-title">üìÅ Categorias <button class="btn btn-primary btn-sm" onclick="openCategoryModal()">‚ûï Nova Categoria</button></h2>
                <div class="items-grid" id="categoriesList"></div>
            </div>

            <div class="panel-section">
                <h2 class="section-title">üîó Links <button class="btn btn-primary btn-sm" onclick="openLinkModal()">‚ûï Novo Link</button></h2>
                <div class="form-group">
                    <label class="form-label">Filtrar por Categoria</label>
                    <select class="form-select" id="filterCategory" onchange="renderLinks()">
                        <option value="">Todas as Categorias</option>
                    </select>
                </div>
                <div class="items-grid" id="linksList"></div>
            </div>

            <div class="panel-section">
                <h2 class="section-title">üéØ Gerenciar Vers√µes</h2>
                <div class="info-box">
                    <p><strong>üìå Vers√µes Dispon√≠veis:</strong> Cada setor pode ter sua pr√≥pria vers√£o com links personalizados</p>
                </div>
                <button class="btn btn-success" onclick="openNewVersionModal()">‚ûï Criar Nova Vers√£o</button>
                <button class="btn btn-danger" onclick="deleteCurrentVersion()" style="margin-left: 1rem;">üóëÔ∏è Deletar Vers√£o Atual</button>
            </div>

            <div class="panel-section">
                <h2 class="section-title">üíæ Exportar/Importar</h2>
                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="exportData()">üì• Exportar Dados (JSON)</button>
                    <button class="btn btn-secondary" onclick="document.getElementById('importFile').click()">üì§ Importar Dados</button>
                    <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">
                </div>
            </div>
        </div>

        <div style="margin-top: 2rem; text-align: center;">
            <a href="index.html" class="btn btn-secondary">‚Üê Voltar para VITA Normal</a>
            <a href="vitaADM.html" class="btn btn-secondary" style="margin-left: 1rem;">‚Üí Ir para VITA ADM</a>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <div class="modal-header"><h3 class="modal-title" id="categoryModalTitle">Nova Categoria</h3><button class="btn-close" onclick="closeCategoryModal()">‚úï</button></div>
            <form onsubmit="saveCategory(event)">
                <input type="hidden" id="categoryId">
                <div class="form-group"><label class="form-label">Nome *</label><input type="text" class="form-input" id="categoryName" required></div>
                <div class="form-group"><label class="form-label">√çcone (emoji) *</label><input type="text" class="form-input" id="categoryIcon" placeholder="üìÅ" maxlength="2" required></div>
                <div class="form-group"><label class="form-label">Ordem</label><input type="number" class="form-input" id="categoryOrder" min="1" value="1"></div>
                <div style="display: flex; gap: 1rem;"><button type="submit" class="btn btn-success" style="flex: 1;">üíæ Salvar</button><button type="button" class="btn btn-secondary" onclick="closeCategoryModal()">Cancelar</button></div>
            </form>
        </div>
    </div>

    <div class="modal" id="linkModal">
        <div class="modal-content">
            <div class="modal-header"><h3 class="modal-title" id="linkModalTitle">Novo Link</h3><button class="btn-close" onclick="closeLinkModal()">‚úï</button></div>
            <form onsubmit="saveLink(event)">
                <input type="hidden" id="linkId">
                <div class="form-group"><label class="form-label">Categoria *</label><select class="form-select" id="linkCategory" required></select></div>
                <div class="form-group"><label class="form-label">T√≠tulo *</label><input type="text" class="form-input" id="linkTitle" required></div>
                <div class="form-group"><label class="form-label">URL *</label><input type="url" class="form-input" id="linkUrl" required></div>
                <div class="form-group"><label class="form-label">√çcone (emoji)</label><input type="text" class="form-input" id="linkIcon" placeholder="üîó" maxlength="2"></div>
                <div class="form-group"><label class="form-label">Estilo</label><select class="form-select" id="linkStyle"><option value="">Padr√£o (Branco)</option><option value="primary">Primary (Roxo)</option><option value="success">Success (Verde)</option><option value="warning">Warning (Laranja)</option><option value="danger">Danger (Vermelho)</option></select></div>
                <div class="form-group"><label class="form-label">Ordem</label><input type="number" class="form-input" id="linkOrder" min="1" value="1"></div>
                <div style="display: flex; gap: 1rem;"><button type="submit" class="btn btn-success" style="flex: 1;">üíæ Salvar</button><button type="button" class="btn btn-secondary" onclick="closeLinkModal()">Cancelar</button></div>
            </form>
        </div>
    </div>

    <div class="modal" id="newVersionModal">
        <div class="modal-content">
            <div class="modal-header"><h3 class="modal-title">Criar Nova Vers√£o</h3><button class="btn-close" onclick="closeNewVersionModal()">‚úï</button></div>
            <form onsubmit="createNewVersion(event)">
                <div class="form-group"><label class="form-label">ID da Vers√£o (identificador √∫nico) *</label><input type="text" class="form-input" id="newVersionId" pattern="[a-z0-9_]+" placeholder="Ex: financeiro, comercial" required><small style="color: #6b7280;">Apenas letras min√∫sculas, n√∫meros e underscore</small></div>
                <div class="form-group"><label class="form-label">Nome *</label><input type="text" class="form-input" id="newVersionName" placeholder="Ex: VITA Financeiro" required></div>
                <div class="form-group"><label class="form-label">Descri√ß√£o</label><textarea class="form-textarea" id="newVersionDescription" placeholder="Descri√ß√£o da vers√£o..."></textarea></div>
                <div style="display: flex; gap: 1rem;"><button type="submit" class="btn btn-success" style="flex: 1;">‚ûï Criar Vers√£o</button><button type="button" class="btn btn-secondary" onclick="closeNewVersionModal()">Cancelar</button></div>
            </form>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/admin-app.js"></script>
</body>
</html>
